"use strict";!function(e){var n=function(n){if(n=n||""){var i=this;n.each(function(n,a){if(!e(a).parent("div.form-tags")[0]){e(a).wrap(e('<div class="form-tags"></div>')).hide();var t=e('<input class="input-tags form-control" placeholder="请输入标签"/>').insertAfter(e(a));i.bind(t)}})}};n.prototype={set:function(n,a){var t=e(n),r=this;n.each(function(n,l){for(var n in a){var s=e('<span class="label label-info">'+a[n]+'<i class="glyphicon glyphicon-remove close"></i></span>');s.children("i").click(i),t.after(s),r.value(s)}})},bind:function(n){var a=this,t=e(n);n.keydown(function(e){var n=e.keyCode?e.keyCode:e.which;"8"==n&&""==t.val()&&(t.prev("span").remove(),a.value(t))}),n.keypress(function(t){var r=e(n),l=t.keyCode?t.keyCode:t.which;if("13"==l){var s=r.val();if(s){var c=e('<span class="label label-info">'+s.trim()+'<i class="glyphicon glyphicon-remove close"></i></span>');r.before(c).val(""),c.children("i").click(i),a.value(r)}}})},value:function(n){var i=n.prevAll("input"),a=n.parent().children("span.label"),t=[];return a.each(function(n,i){t.push(e(i).text())}),i.val(t)}};var i=function(){var i=e(this).parent().nextAll("input.input-tags");e(this).parent().remove(),(new n).value(i)};e.fn.tags=function(){var e=new n(this),i=Array.prototype.slice.call(arguments);return e.set(this,i),this}}(jQuery);